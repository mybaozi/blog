# 事件循环

javascript是一门单线程的非阻塞的脚本语言，这意味着javascript程序在执行时，只有一个主线程来处理所有任务。  

如果同步处理一些需要较长时间才有结果的任务容易造成阻塞，所以javascript中有同步任务、异步任务，其中异步任务就是用来处理这种情况。  

事件循环则机制决定了javascript中任务的运行顺序，从而使得javascript在运行时能够有 `非阻塞` 的特点。  


__执行栈__  

函数被执行时会往执行栈中压入其上下文，当函数执行完毕时其对应的上下文会被弹出执行栈，出入栈遵循着后入先出的规则。当栈被清空时也就意味着函数执行完毕。

```js
    function inFn(){

    }

    function outFn(){
        inFn()
    }

    outFn()
```

当调用 `outfn` 时， `outfn` 对应的上下文先被压入执行栈，然后调用 `inFn` 其对应的上下文被压入执行栈， `inFn` 执行完毕，对应的上下文被弹出执行栈，最后 `outFn` 也执行完毕，对应的上下文也被弹出执行栈，此时函数执行完毕，栈中也被清空。

__队列__  

一个 JavaScript 运行时包含了一个待处理消息的消息队列。每一个消息都关联着一个用以处理这个消息的回调函数。
当函数运行时碰到异步任务时，不会立刻执行该函数，而是将其加入消息队列中等待执行栈为空后再依次执行。  

__事件循环__  

